.286

EXTRN PRINT_MESSAGE:FAR

DT_SEG SEGMENT PARA PUBLIC 'DATA' USE16

DT_SEG ENDS

RM_STACK SEGMENT PARA STACK 'STACK' USE16
 
    DB  100h DUP(?)
 
RM_STACK ENDS
  
RM_SEG SEGMENT PARA PUBLIC 'CODE' USE16
	ASSUME  CS:RM_SEG, SS:RM_STACK

		START PROC
		
			MOV		AX, DT_SEG
			MOV		DS, AX
			
			XOR     AX, AX
			MOV  	AX, PM_SEG
			SHL 	AX, 4      ;*16D
			ADD 	AX, OFFSET ENTRY_POINT
			MOV 	WORD PTR ENTRY_OFF, AX
			DB  	0EAh
			ENTRY_OFF   DW  ?
			DW  	0

		START ENDP

RM_SEG ENDS
 
PM_SEG SEGMENT PARA PUBLIC 'CODE' USE16
	ASSUME  CS:PM_SEG, DS:DT_SEG
 
		ENTRY_POINT PROC
		 
			MOV		AX, DT_SEG
			MOV		DS, AX
			MOV		ES, AX
			
			CALL	PRINT_MESSAGE
			
			MOV		AX, 4C00h
			INT		21h

		ENTRY_POINT ENDP
 
PM_SEG ENDS
   
END START