
;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2014 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3057-7374-2C			    |
; |	Zhou Tao, Jiangsu Australia Sinuo Network Technology Co., Ltd.	    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	62FCA9203962B1E65764CA8B0AC0ECE3
; Input	CRC32 :	41675D55

; File Name   :	D:\Desenvolvimento Kernel\OS for Dummies Loader\los4d\DEMO\STARTUPC.COM
; Format      :	MS-DOS COM-file
; Base Address:	1000h Range: 10100h-1118Bh Loaded length: 108Bh

		.286p
		.model tiny

; ===========================================================================

; Segment type:	Pure code
seg000		segment	byte public 'CODE'
		assume cs:seg000
		org 100h
		assume es:nothing, ss:nothing, ds:seg000

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

		public start
start		proc near
    
        push    cs
        pop     ds
        
		mov	ax, cs
		call	sub_10130
		mov	ax, ds
		call	sub_10130
		mov	ax, es
		call	sub_10130
		mov	ax, ss
		call	sub_10130
		mov	ax, bp
		call	sub_10130
		mov	ax, sp
		call	sub_10130 
		mov	ax, si
		call	sub_10130
		mov	ax, di
		call	sub_10130
		mov	si, offset aHelloWorldIMAS ; "Hello World! I'm a simple COM program.\"...
		cld
		mov	ah, 0Eh
		mov	bx, 7

loc_10122:				; ...
		lodsb
		or	al, al
		jz	short loc_1012B
		int	10h		; - VIDEO - WRITE CHARACTER AND	ADVANCE	CURSOR (TTY WRITE)
					; AL = character, BH = display page (alpha modes)
					; BL = foreground color	(graphics modes)
		jmp	short loc_10122
; ---------------------------------------------------------------------------

loc_1012B:

		int	20h		; DOS -	2+ - QUIT WITH EXIT CODE (EXIT)
start		endp			; AL = exit code


; =============== S U B	R O U T	I N E =======================================


sub_10130	proc near		; ...
		pusha
		mov	si, ax
		mov	cx, 4
		rol	si, cl

loc_10138:				; ...
		mov	ax, si
		and	al, 0Fh
		mov	bx, offset a0123456789abcd ; "0123456789ABCDEF"
		xlat
		mov	ah, 0Eh
		mov	bx, 7
		int	10h		; - VIDEO - WRITE CHARACTER AND	ADVANCE	CURSOR (TTY WRITE)
					; AL = character, BH = display page (alpha modes)
					; BL = foreground color	(graphics modes)
		rol	si, 4
		loop	loc_10138
		mov	al, 20h
		int	10h		; - VIDEO -
		popa
		retn
sub_10130	endp

; ---------------------------------------------------------------------------
a0123456789abcd	db '0123456789ABCDEF',0 ; ...
		db 0FFFh dup(0)
aHelloWorldIMAS	db 'CS DS ES SS BP SP SI DI LOAD.COM', 0 ; ...
seg000		ends


		end start
