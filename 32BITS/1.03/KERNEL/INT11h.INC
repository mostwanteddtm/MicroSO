CODESEG16 SEGMENT USE16
	
	INT11h PROC
		PUSH 	EAX
		PUSH 	ES
		PUSH 	DS
		MOV 	AX, SELVIDEODESC32
		MOV 	ES, AX
		MOV 	AX, SELDATADESC32
		MOV 	DS, AX
		ASSUME 	DS:SEGS32
		MOV		EDI, 0F00h
		MOV		ESI, OFFSET SOFTWARE_INT
	@@: LODSB
		CMP		AL, 0
		JE		FINT
		MOV		AH, 07h
		STOSW
		JMP		@b
	FINT:
		POP		DS
		POP		ES
		POP		EAX
		MOV 	AL, 20H
		OUT 	20H, AL
		IRETD
	INT11h ENDP

CODESEG16 ENDS